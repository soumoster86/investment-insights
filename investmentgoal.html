
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Investment Insights - Investment Goal</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header style="display: flex; align-items: center; padding: 15px 20px; background-color: #004080; color: white;">
    <img src="logo.png" alt="Investment Insights Logo" style="height: 50px; margin-right: 15px;" />
    <div>
      <h1 style="margin: 0; font-weight: normal;">Investment Insights</h1>
     <nav style="margin-top: 5px;">
  <a href="index.html" class="active">
    <span style="vertical-align:middle; margin-right:7px;">üè†</span> Home
  </a>
  <a href="stocks.html">
    <svg width="18" height="18" viewBox="0 0 24 24" style="vertical-align:middle; margin-right:7px;"><path fill="currentColor" d="M4 21v-9h4v9H4zm6 0V10h4v11h-4zm6 0v-6h4v6h-4z"/></svg>
    Stocks
  </a>
  <a href="mutualfunds.html">
    <svg width="18" height="18" viewBox="0 0 24 24" style="vertical-align:middle; margin-right:7px;"><path fill="currentColor" d="M4 19v-2c0-1.1.9-2 2-2h2v-2c0-1.1.9-2 2-2s2 .9 2 2v2h2c1.1 0 2 .9 2 2v2c0 1.1-.9 2-2 2h-8c-1.1 0-2-.9-2-2z"/></svg>
    Mutual Funds
  </a>
  <a href="fixeddeposit.html">
    <svg width="18" height="18" viewBox="0 0 24 24" style="vertical-align:middle; margin-right:7px;"><path fill="currentColor" d="M17 18H7v-2h10v2zm1-4.5a4.5 4.5 0 1 0-9 0v1H5v6h14v-6h-2v-1zm-2 1v-1a2.5 2.5 0 1 1 5 0v1h-5z"/></svg>
    Fixed Deposits
  </a>
  <a href="cryptocurrencies.html">
    <svg width="18" height="18" viewBox="0 0 24 24" style="vertical-align:middle; margin-right:7px;"><path fill="currentColor" d="M12 2C6.5 2 2 6.5 2 12c0 5.5 4.5 10 10 10s10-4.5 10-10C22 6.5 17.5 2 12 2zm0 18c-4.4 0-8-3.6-8-8 0-4.4 3.6-8 8-8s8 3.6 8 8c0 4.4-3.6 8-8 8zm0-7h3c.6 0 1-.4 1-1s-.4-1-1-1h-3c-.6 0-1 .4-1 1s.4 1 1 1zm-1-4h2v2h-2V9zm0 4h2v2h-2v-2z"/></svg>
    Cryptocurrencies
  </a>
  <a href="investmentgoal.html">
    <svg width="18" height="18" viewBox="0 0 24 24" style="vertical-align:middle; margin-right:7px;"><path fill="currentColor" d="M13 2.05v3.02c3.95.49 7 3.85 7 7.93 0 4.08-3.05 7.44-7 7.93v3.02C18.05 22.47 22 17.91 22 12S18.05 1.53 13 2.05zM2 12c0 5.91 4.95 10.47 11 10.95v-3.02c-3.95-.49-7-3.85-7-7.93 0-4.08 3.05-7.44 7-7.93V1.05C6.95 1.53 2 6.09 2 12z"/></svg>
    Investment Goal
  </a>
  <a href="contact.html">
    <svg width="18" height="18" viewBox="0 0 24 24" style="vertical-align:middle; margin-right:7px;"><path fill="currentColor" d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 2v.01L12 13 4 6.01V6h16zM4 20V8.99l8 7 8-7V20H4z"/></svg>
    Contact
  </a>
</nav>

    </div>

<div style="margin-top:10px;">
  <label style="display: flex; align-items: center; gap: 8px; cursor:pointer;">
    <input type="checkbox" id="darkmode-toggle" style="width:20px; height:20px;" />
    <span id="dm-label" style="color:white;font-size:1em;">üåô Dark Mode</span>
  </label>
</div>


  </header>
  <main>
    <section>
      <h2>Set Your Investment Goal</h2>
      <form id="goal-form" onsubmit="calculateGoal(event)">
        <label for="monthly-amount">Monthly Investment (‚Çπ):</label>
        <input type="number" id="monthly-amount" min="0" required placeholder="Enter amount per month">

        <label for="routes">Investment Routes:</label>
        <select id="routes" multiple required style="height: 110px;">
          <option value="Stocks">Stocks</option>
          <option value="Mutual Funds">Mutual Funds</option>
          <option value="Fixed Deposits">Fixed Deposits</option>
          <option value="Cryptocurrencies">Cryptocurrencies</option>
        </select>
        <small style="color:#555;display:block;margin-bottom:12px;">(Hold Ctrl/Cmd to select multiple options)</small>

        <label for="rate">Expected Rate of Return (% per year):</label>
        <input type="number" id="rate" step="0.01" min="0" required placeholder="e.g. 11">

        <label for="inflation">Expected Inflation Rate (% per year):</label>
        <input type="number" id="inflation" step="0.01" min="0" required placeholder="e.g. 6">

        <label for="duration">Investment Duration (years):</label>
        <input type="number" id="duration" min="1" required placeholder="e.g. 15">

        <button type="submit" class="btn">Calculate Future Corpus</button>
      </form>
      <div id="goal-result" style="margin-top:18px;font-size:1.13em;color:#004080;font-weight:500;"></div>

      <!-- Chart Container -->
      <div style="margin:24px 0 0 0; background:#fff; border-radius:12px; padding:12px 6px;">
        <canvas id="corpusChart" style="max-width:100%;"></canvas>
      </div>
    </section>
  </main>
  <footer>
    &copy; 2025 Investment Insights. All rights reserved.
  </footer>

  <script>
    let chart; // Global chart variable

    function calculateGoal(event) {
      event.preventDefault();
      const P = parseFloat(document.getElementById('monthly-amount').value);
      const rate = parseFloat(document.getElementById('rate').value);
      const inflation = parseFloat(document.getElementById('inflation').value);
      const n = parseInt(document.getElementById('duration').value);

      // Get selected routes (array)
      const routes = Array.from(document.getElementById('routes').selectedOptions).map(opt => opt.value);

      if (isNaN(P) || P <= 0 || isNaN(rate) || rate < 0 || isNaN(inflation) || inflation < 0 || isNaN(n) || n <= 0 || routes.length === 0) {
        alert('Please fill all fields correctly.');
        return;
      }

      // Prepare yearly corpus data for chart
      const yearlyCorpus = [];
      const yearlyCorpusReal = [];
      const labels = [];

      // Monthly rate of return (decimal)
      const r = rate / 100 / 12;

      for (let year = 1; year <= n; year++) {
        const months = year * 12;
        const FV = P * (((Math.pow(1 + r, months) - 1) / r) * (1 + r));
        const inflationFactor = Math.pow(1 + inflation / 100, year);
        const realFV = FV / inflationFactor;

        yearlyCorpus.push(FV);
        yearlyCorpusReal.push(realFV);
        labels.push('Year ' + year);
      }

      // Final corpus (last year)
      const FV = yearlyCorpus[yearlyCorpus.length - 1];
      const realFV = yearlyCorpusReal[yearlyCorpusReal.length - 1];
      const totalInvested = P * n * 12;


      // Calculate the CAGR (nominal and real)
      const annualInvested = P * 12;
      const corpusCAGR = (Math.pow(FV / annualInvested, 1 / n) - 1) * 100;
      const realCAGR = (Math.pow(realFV / annualInvested, 1 / n) - 1) * 100;
      const inflationBeat = corpusCAGR - inflation;

      let inflationMsg;
      if (inflationBeat > 0) {
      inflationMsg = `üéâ Your investment is projected to beat inflation by <b>${inflationBeat.toFixed(2)}%</b> annually.`;
      } else if (inflationBeat === 0) {
      inflationMsg = `‚öñÔ∏è Your investment is projected to match inflation.`;
      } else {
      inflationMsg = `‚ö†Ô∏è Your investment may <b>not</b> keep up with inflation and could lose value in real terms.`;
      }


  document.getElementById('goal-result').innerHTML = `
  <strong>Future Corpus (Nominal):</strong> ‚Çπ${FV.toLocaleString(undefined, {maximumFractionDigits:0})}<br>
  <strong>Future Corpus (Inflation-Adjusted):</strong> ‚Çπ${realFV.toLocaleString(undefined, {maximumFractionDigits:0})}<br>
  <strong>Total Invested:</strong> ‚Çπ${totalInvested.toLocaleString(undefined, {maximumFractionDigits:0})}<br>
  <strong>Selected Routes:</strong> ${routes.join(', ')}<br>
  <div style="margin-top:14px;font-size:1.11em;">${inflationMsg}</div>
`;


      // Draw/Update Chart
      drawChart(labels, yearlyCorpus, yearlyCorpusReal);
    }

    function drawChart(labels, corpus, corpusReal) {
      const ctx = document.getElementById('corpusChart').getContext('2d');
      if (chart) chart.destroy();
      chart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [
            {
              label: 'Corpus (Nominal ‚Çπ)',
              data: corpus,
              borderWidth: 2.5,
              borderColor: '#004080',
              backgroundColor: 'rgba(0,64,128,0.08)',
              tension: 0.13,
              pointRadius: 2,
              fill: false,
            },
            {
              label: 'Corpus (Inflation-Adjusted ‚Çπ)',
              data: corpusReal,
              borderWidth: 2.2,
              borderColor: '#6c93db',
              backgroundColor: 'rgba(108,147,219,0.09)',
              tension: 0.18,
              pointRadius: 2,
              fill: false,
              borderDash: [6,4]
            }
          ]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: true, position: 'bottom' },
            tooltip: {
              callbacks: {
                label: function(ctx) {
                  return ctx.dataset.label + ': ‚Çπ' + Math.round(ctx.raw).toLocaleString();
                }
              }
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              ticks: {
                callback: function(val) {
                  return '‚Çπ' + (val / 100000 >= 1 ? (val / 100000).toFixed(1) + 'L' : val.toLocaleString());
                }
              }
            }
          }
        }
      });
    }
  </script>


<script>
function setMode(dark) {
  if (dark) {
    document.body.classList.add("dark-mode");
    localStorage.setItem("theme", "dark");
    document.getElementById('dm-label').textContent = "‚òÄÔ∏è Light Mode";
    document.getElementById('darkmode-toggle').checked = true;
  } else {
    document.body.classList.remove("dark-mode");
    localStorage.setItem("theme", "light");
    document.getElementById('dm-label').textContent = "üåô Dark Mode";
    document.getElementById('darkmode-toggle').checked = false;
  }
}
document.getElementById('darkmode-toggle').addEventListener("change", function() {
  setMode(this.checked);
});
// Auto detect or load user preference
(function() {
  const userPref = localStorage.getItem("theme");
  const darkPref = userPref === "dark" ||
    (!userPref && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches);
  setMode(darkPref);
})();
</script>



</body>
</html>
